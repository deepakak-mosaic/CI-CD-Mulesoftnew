'name: Java CI with Maven':
  - "on:\_\_push:\_\_\_\_branches: [ master ]\_\_pull_request:\_\_\_\_branches: [ master ]"
  - "jobs:\_\_build:\_\_\_\_runs-on: ubuntu-latest\_\_\_\_steps:\_\_\_\_– uses: actions/checkout@v2\_\_\_\_– uses: actions/cache@v1\_\_\_\_\_\_with:\_\_\_\_\_\_\_\_path: ~/.m2/repository\_\_\_\_\_\_\_\_key: ${{ runner.os }}-maven-${{ hashFiles(‘**/pom.xml’) }}\_\_\_\_\_\_\_\_restore-keys: |\_\_\_\_\_\_\_\_\_\_${{ runner.os }}-maven-\_\_\_\_– name: Set up JDK 1.8\_\_\_\_\_\_uses: actions/setup-java@v1\_\_\_\_\_\_with:\_\_\_\_\_\_\_\_java-version: 1.8\_\_\_\_– name: Build\_\_\_\_\_\_run: mvn -B package –file pom.xml\_\_\_\_– name: Stamp artifact file name with commit hash\_\_\_\_\_\_run: |\_\_\_\_\_\_\_\_artifactName1=$(ls target/*.jar | head -1)\_\_\_\_\_\_\_\_commitHash=$(git rev-parse –short “$GITHUB_SHA”)\_\_\_\_\_\_\_\_artifactName2=$(ls target/*.jar | head -1 | sed “s/.jar/.$commitHash.jar/g”)\_\_\_\_\_\_\_\_mv $artifactName1 $artifactName2\_\_\_\_– uses: actions/upload-artifact@master\_\_\_\_\_\_with:\_\_\_\_\_\_\_\_\_\_name: artifacts\_\_\_\_\_\_\_\_\_\_path: target/*.jar"
  - "deploy:\_\_\_\_needs: build\_\_\_\_runs-on: ubuntu-latest\_\_\_\_steps:\_\_\_\_\_\_\_\_– uses: actions/checkout@v2\_\_\_\_– uses: actions/cache@v1\_\_\_\_\_\_with:\_\_\_\_\_\_\_\_path: ~/.m2/repository\_\_\_\_\_\_\_\_key: ${{ runner.os }}-maven-${{ hashFiles(‘**/pom.xml’) }}\_\_\_\_\_\_\_\_restore-keys: |\_\_\_\_\_\_\_\_\_\_${{ runner.os }}-maven-\_\_\_\_– uses: actions/download-artifact@master\_\_\_\_\_\_with:\_\_\_\_\_\_\_\_name: artifacts\_\_\_\_– name: Deploy to CloudHub\_\_\_\_\_\_env:\_\_\_\_\_\_\_\_USERNAME: ${{ secrets.username }}\_\_\_\_\_\_\_\_PASSWORD: ${{ secrets.password }}\_\_\_\_\_\_run: |\_\_\_\_\_\_\_\_artifactName=$(ls *.jar | head -1)\_\_\_\_\_\_\_\_mvn mule:deploy -Dmule.artifact=$artifactName -Danypoint.userName=”$USERNAME” -Danypoint.password=”$PASSWORD”"
